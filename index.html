<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>אל תטוס בלי ביטוח - צביקה ראובן</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body, html {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      height: 100%; direction: rtl;
      background: url('/api/placeholder/1200/800') center/cover no-repeat;
      color: white;
    }
    .overlay { background: rgba(0,0,0,0.5); min-height:100vh; padding:2rem; display:flex; flex-direction:column; align-items:center; }
    h1 { font-size:2.7rem; margin-bottom:1rem; color:#FFD700; text-shadow:0 0 10px #000; text-align:center; }
    .subtitle, .testimonial { max-width:600px; text-align:center; margin-bottom:2rem; line-height:1.7; }
    .benefits { background:rgba(255,255,255,0.1); padding:1rem; border-radius:12px; list-style:none; margin-bottom:2rem; max-width:600px; }
    .benefits li { margin-bottom:0.8rem; }
    .form-wrapper { background:white; color:#000; padding:2rem; border-radius:12px; max-width:420px; width:100%; box-shadow:0 0 25px rgba(0,0,0,0.4); }
    input, select, button { width:100%; padding:0.7rem; margin-bottom:1rem; border-radius:6px; font-size:1rem; text-align: right; }
    button { background-color:#28a745; color:white; cursor:pointer; transition:0.3s; border:none; }
    button:hover { background-color:#1e7e34; }
    .birthdate-label { display: block; margin-bottom: 0.3rem; font-weight: bold; font-size: 0.9rem; }
  </style>
</head>
<body>
  <div class="overlay">
    <h1>אל תטוס בלי ביטוח - צביקה ראובן כאן בשבילך!</h1>
    <div class="subtitle">טסים לסקי, נופש או עסקים? צביקה ראובן, סוכן ביטוח ותיק ומומחה, כאן כדי למצוא לכם את הביטוח המשתלם ביותר – מהיר, מותאם אישית, וכולל כיסוי לכל צורך.</div>
    <ul class="benefits">
      <li><i class="fas fa-check"></i> השוואת מחירים בזמן אמת</li>
      <li><i class="fas fa-check"></i> כיסוי מורחב לסקי ולספורט אתגרי</li>
      <li><i class="fas fa-check"></i> ליווי אישי עד לרגע החזרה</li>
      <li><i class="fas fa-check"></i> ניסיון של 15 שנה בתחום</li>
    </ul>
    <form id="insuranceForm" class="form-wrapper">
      <input type="text" id="name" placeholder="שם מלא" required>
      <input type="tel" id="phone" placeholder="טלפון" required style="direction: ltr; text-align: right;">
      <select id="travelers" required>
        <option value="" disabled selected>מספר נוסעים</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5+">5+</option>
      </select>
      <div id="agesContainer"></div>
      <input type="text" id="destination" placeholder="יעד הנסיעה" required>
      <input type="date" id="startDate" required>
      <input type="date" id="endDate" required>
      <button type="submit"><i class="fab fa-whatsapp"></i> שלחו לי פרטים עכשיו</button>
    </form>
    <div class="testimonial">״צביקה פשוט אלוף – סגר לי ביטוח סקי במחיר הכי משתלם וענה במהירות. ממליץ לכולם!״</div>
  </div>

  <script>
    document.getElementById('travelers').addEventListener('change', function() {
      const numTravelers = parseInt(this.value);
      const agesContainer = document.getElementById('agesContainer');
      agesContainer.innerHTML = '';
      if (!isNaN(numTravelers)) {
        for (let i = 1; i <= numTravelers; i++) {
          agesContainer.innerHTML += `
            <div class="traveler-info">
              <label class="birthdate-label">תאריך לידה - נוסע מספר ${i}</label>
              <input type="date" id="birthdate-${i}" required>
            </div>
          `;
        }
      }
    });

    document.getElementById("insuranceForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const name = document.getElementById('name').value;
      const phone = document.getElementById('phone').value;
      const travelers = document.getElementById('travelers').value;
      const destination = document.getElementById('destination').value;
      const startDate = document.getElementById('startDate').value;
      const endDate = document.getElementById('endDate').value;
      
      // רשימת תאריכי לידה
      let birthdates = '';
      const travelerInfos = document.querySelectorAll('.traveler-info input[type="date"]');
      travelerInfos.forEach((input, idx) => {
        const birthdate = input.value;
        // חישוב גיל על פי תאריך הלידה
        const today = new Date();
        const birthDate = new Date(birthdate);
        let age = today.getFullYear() - birthDate.getFullYear();
        const m = today.getMonth() - birthDate.getMonth();
        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
          age--;
        }
        
        birthdates += `נוסע ${idx+1}: תאריך לידה ${birthdate} (גיל ${age})%0A`;
      });
      
      const message = `שלום צביקה, מעוניין בביטוח נסיעות:%0Aשם: ${name}%0Aטלפון: ${phone}%0Aנוסעים: ${travelers}%0A${birthdates}יעד: ${destination}%0Aיציאה: ${startDate}%0Aחזרה: ${endDate}%0Aאשמח להצעה, תודה!`;
      window.open(`https://wa.me/972523376220?text=${message}`, '_blank');
    });
  </script>
</body>
</html>
